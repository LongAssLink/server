import{R as F,r as _,j as T,c as K,$ as bt,_ as ge,a as Ds,b as Vs,B as Ir,d as Pr,e as Dr,f as js,g as Vr,h as Ls,i as Fs,k as Zs,l as Bs,m as Us,n as zs,o as Hs,p as Ws,q as Oe,C as Gs,s as qs,S as gr,t as Qs,u as Ys,v as Xs,w as Ks}from"./index-8Y6JKvwT.js";import{a as Js}from"./api-0MFqLCaw.js";var Ye=t=>t.type==="checkbox",Pe=t=>t instanceof Date,ee=t=>t==null;const jr=t=>typeof t=="object";var q=t=>!ee(t)&&!Array.isArray(t)&&jr(t)&&!Pe(t),Lr=t=>q(t)&&t.target?Ye(t.target)?t.target.checked:t.target.value:t,en=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Fr=(t,e)=>t.has(en(e)),tn=t=>{const e=t.constructor&&t.constructor.prototype;return q(e)&&e.hasOwnProperty("isPrototypeOf")},Kt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function oe(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Kt&&(t instanceof Blob||t instanceof FileList))&&(r||q(t)))if(e=r?[]:{},!r&&!tn(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=oe(t[s]));else return t;return e}var Xe=t=>Array.isArray(t)?t.filter(Boolean):[],G=t=>t===void 0,b=(t,e,r)=>{if(!e||!q(t))return r;const s=Xe(e.split(/[,[\].]+?/)).reduce((n,a)=>ee(n)?n:n[a],t);return G(s)||s===t?G(t[e])?r:t[e]:s},ne=t=>typeof t=="boolean";const st={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},le={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ye={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zr=F.createContext(null),wt=()=>F.useContext(Zr),rn=t=>{const{children:e,...r}=t;return F.createElement(Zr.Provider,{value:r},e)};var Br=(t,e,r,s=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const o=a;return e._proxyFormState[o]!==le.all&&(e._proxyFormState[o]=!s||le.all),r&&(r[o]=!0),t[o]}});return n},se=t=>q(t)&&!Object.keys(t).length,Ur=(t,e,r,s)=>{r(t);const{name:n,...a}=t;return se(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!s||le.all))},et=t=>Array.isArray(t)?t:[t],zr=(t,e,r)=>!t||!e||t===e||et(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s)));function Jt(t){const e=F.useRef(t);e.current=t,F.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function sn(t){const e=wt(),{control:r=e.control,disabled:s,name:n,exact:a}=t||{},[o,u]=F.useState(r._formState),i=F.useRef(!0),l=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=F.useRef(n);return c.current=n,Jt({disabled:s,next:f=>i.current&&zr(c.current,f.name,a)&&Ur(f,l.current,r._updateFormState)&&u({...r._formState,...f}),subject:r._subjects.state}),F.useEffect(()=>(i.current=!0,l.current.isValid&&r._updateValid(!0),()=>{i.current=!1}),[r]),Br(o,r,l.current,!1)}var de=t=>typeof t=="string",Hr=(t,e,r,s,n)=>de(t)?(s&&e.watch.add(t),b(r,t,n)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),b(r,a))):(s&&(e.watchAll=!0),r);function nn(t){const e=wt(),{control:r=e.control,name:s,defaultValue:n,disabled:a,exact:o}=t||{},u=F.useRef(s);u.current=s,Jt({disabled:a,subject:r._subjects.values,next:c=>{zr(u.current,c.name,o)&&l(oe(Hr(u.current,r._names,c.values||r._formValues,!1,n)))}});const[i,l]=F.useState(r._getWatch(s,n));return F.useEffect(()=>r._removeUnmounted()),i}var er=t=>/^\w*$/.test(t),Wr=t=>Xe(t.replace(/["|']|\]/g,"").split(/\.|\[/)),B=(t,e,r)=>{let s=-1;const n=er(e)?[e]:Wr(e),a=n.length,o=a-1;for(;++s<a;){const u=n[s];let i=r;if(s!==o){const l=t[u];i=q(l)||Array.isArray(l)?l:isNaN(+n[s+1])?{}:[]}t[u]=i,t=t[u]}return t};function an(t){const e=wt(),{name:r,disabled:s,control:n=e.control,shouldUnregister:a}=t,o=Fr(n._names.array,r),u=nn({control:n,name:r,defaultValue:b(n._formValues,r,b(n._defaultValues,r,t.defaultValue)),exact:!0}),i=sn({control:n,name:r}),l=F.useRef(n.register(r,{...t.rules,value:u,...ne(t.disabled)?{disabled:t.disabled}:{}}));return F.useEffect(()=>{const c=n._options.shouldUnregister||a,f=(h,x)=>{const v=b(n._fields,h);v&&(v._f.mount=x)};if(f(r,!0),c){const h=oe(b(n._options.defaultValues,r));B(n._defaultValues,r,h),G(b(n._formValues,r))&&B(n._formValues,r,h)}return()=>{(o?c&&!n._state.action:c)?n.unregister(r):f(r,!1)}},[r,n,o,a]),F.useEffect(()=>{b(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r,value:b(n._fields,r)._f.value})},[s,r,n]),{field:{name:r,value:u,...ne(s)||ne(i.disabled)?{disabled:i.disabled||s}:{},onChange:F.useCallback(c=>l.current.onChange({target:{value:Lr(c),name:r},type:st.CHANGE}),[r]),onBlur:F.useCallback(()=>l.current.onBlur({target:{value:b(n._formValues,r),name:r},type:st.BLUR}),[r,n]),ref:c=>{const f=b(n._fields,r);f&&c&&(f._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:h=>c.setCustomValidity(h),reportValidity:()=>c.reportValidity()})}},formState:i,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!b(i.errors,r)},isDirty:{enumerable:!0,get:()=>!!b(i.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!b(i.touchedFields,r)},error:{enumerable:!0,get:()=>b(i.errors,r)}})}}const on=t=>t.render(an(t));var Gr=(t,e,r,s,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:n||!0}}:{},_r=t=>({isOnSubmit:!t||t===le.onSubmit,isOnBlur:t===le.onBlur,isOnChange:t===le.onChange,isOnAll:t===le.all,isOnTouch:t===le.onTouched}),xr=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const He=(t,e,r,s)=>{for(const n of r||Object.keys(t)){const a=b(t,n);if(a){const{_f:o,...u}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!s)break;if(o.ref&&e(o.ref,o.name)&&!s)break;He(u,e)}else q(u)&&He(u,e)}}};var ln=(t,e,r)=>{const s=Xe(b(t,r));return B(s,"root",e[r]),B(t,r,s),t},tr=t=>t.type==="file",we=t=>typeof t=="function",nt=t=>{if(!Kt)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tt=t=>de(t),rr=t=>t.type==="radio",at=t=>t instanceof RegExp;const br={value:!1,isValid:!1},wr={value:!0,isValid:!0};var qr=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!G(t[0].attributes.value)?G(t[0].value)||t[0].value===""?wr:{value:t[0].value,isValid:!0}:wr:br}return br};const kr={isValid:!1,value:null};var Qr=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,kr):kr;function Er(t,e,r="validate"){if(tt(t)||Array.isArray(t)&&t.every(tt)||ne(t)&&!t)return{type:r,message:tt(t)?t:"",ref:e}}var Me=t=>q(t)&&!at(t)?t:{value:t,message:""},Cr=async(t,e,r,s,n)=>{const{ref:a,refs:o,required:u,maxLength:i,minLength:l,min:c,max:f,pattern:h,validate:x,name:v,valueAsNumber:O,mount:A,disabled:Q}=t._f,$=b(e,v);if(!A||Q)return{};const M=o?o[0]:a,Z=V=>{s&&M.reportValidity&&(M.setCustomValidity(ne(V)?"":V||""),M.reportValidity())},j={},pe=rr(a),be=Ye(a),Ze=pe||be,Re=(O||tr(a))&&G(a.value)&&G($)||nt(a)&&a.value===""||$===""||Array.isArray($)&&!$.length,ae=Gr.bind(null,v,r,j),Ke=(V,U,H,J=ye.maxLength,ce=ye.minLength)=>{const ie=V?U:H;j[v]={type:V?J:ce,message:ie,ref:a,...ae(V?J:ce,ie)}};if(n?!Array.isArray($)||!$.length:u&&(!Ze&&(Re||ee($))||ne($)&&!$||be&&!qr(o).isValid||pe&&!Qr(o).isValid)){const{value:V,message:U}=tt(u)?{value:!!u,message:u}:Me(u);if(V&&(j[v]={type:ye.required,message:U,ref:M,...ae(ye.required,U)},!r))return Z(U),j}if(!Re&&(!ee(c)||!ee(f))){let V,U;const H=Me(f),J=Me(c);if(!ee($)&&!isNaN($)){const ce=a.valueAsNumber||$&&+$;ee(H.value)||(V=ce>H.value),ee(J.value)||(U=ce<J.value)}else{const ce=a.valueAsDate||new Date($),ie=Je=>new Date(new Date().toDateString()+" "+Je),Be=a.type=="time",Ce=a.type=="week";de(H.value)&&$&&(V=Be?ie($)>ie(H.value):Ce?$>H.value:ce>new Date(H.value)),de(J.value)&&$&&(U=Be?ie($)<ie(J.value):Ce?$<J.value:ce<new Date(J.value))}if((V||U)&&(Ke(!!V,H.message,J.message,ye.max,ye.min),!r))return Z(j[v].message),j}if((i||l)&&!Re&&(de($)||n&&Array.isArray($))){const V=Me(i),U=Me(l),H=!ee(V.value)&&$.length>+V.value,J=!ee(U.value)&&$.length<+U.value;if((H||J)&&(Ke(H,V.message,U.message),!r))return Z(j[v].message),j}if(h&&!Re&&de($)){const{value:V,message:U}=Me(h);if(at(V)&&!$.match(V)&&(j[v]={type:ye.pattern,message:U,ref:a,...ae(ye.pattern,U)},!r))return Z(U),j}if(x){if(we(x)){const V=await x($,e),U=Er(V,M);if(U&&(j[v]={...U,...ae(ye.validate,U.message)},!r))return Z(U.message),j}else if(q(x)){let V={};for(const U in x){if(!se(V)&&!r)break;const H=Er(await x[U]($,e),M,U);H&&(V={...H,...ae(U,H.message)},Z(H.message),r&&(j[v]=V))}if(!se(V)&&(j[v]={ref:M,...V},!r))return j}}return Z(!0),j};function cn(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=G(t)?s++:t[e[s++]];return t}function un(t){for(const e in t)if(t.hasOwnProperty(e)&&!G(t[e]))return!1;return!0}function X(t,e){const r=Array.isArray(e)?e:er(e)?[e]:Wr(e),s=r.length===1?t:cn(t,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(q(s)&&se(s)||Array.isArray(s)&&un(s))&&X(t,r.slice(0,-1)),t}var Mt=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},it=t=>ee(t)||!jr(t);function $e(t,e){if(it(t)||it(e))return t===e;if(Pe(t)&&Pe(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const n of r){const a=t[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=e[n];if(Pe(a)&&Pe(o)||q(a)&&q(o)||Array.isArray(a)&&Array.isArray(o)?!$e(a,o):a!==o)return!1}}return!0}var Yr=t=>t.type==="select-multiple",dn=t=>rr(t)||Ye(t),It=t=>nt(t)&&t.isConnected,Xr=t=>{for(const e in t)if(we(t[e]))return!0;return!1};function ot(t,e={}){const r=Array.isArray(t);if(q(t)||r)for(const s in t)Array.isArray(t[s])||q(t[s])&&!Xr(t[s])?(e[s]=Array.isArray(t[s])?[]:{},ot(t[s],e[s])):ee(t[s])||(e[s]=!0);return e}function Kr(t,e,r){const s=Array.isArray(t);if(q(t)||s)for(const n in t)Array.isArray(t[n])||q(t[n])&&!Xr(t[n])?G(e)||it(r[n])?r[n]=Array.isArray(t[n])?ot(t[n],[]):{...ot(t[n])}:Kr(t[n],ee(e)?{}:e[n],r[n]):r[n]=!$e(t[n],e[n]);return r}var Pt=(t,e)=>Kr(t,e,ot(e)),Jr=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>G(t)?t:e?t===""?NaN:t&&+t:r&&de(t)?new Date(t):s?s(t):t;function Dt(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return tr(e)?e.files:rr(e)?Qr(t.refs).value:Yr(e)?[...e.selectedOptions].map(({value:r})=>r):Ye(e)?qr(t.refs).value:Jr(G(e.value)?t.ref.value:e.value,t)}var fn=(t,e,r,s)=>{const n={};for(const a of t){const o=b(e,a);o&&B(n,a,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:s}},Ue=t=>G(t)?t:at(t)?t.source:q(t)?at(t.value)?t.value.source:t.value:t,hn=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Tr(t,e,r){const s=b(t,r);if(s||er(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=b(e,a),u=b(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(u&&u.type)return{name:a,error:u};n.pop()}return{name:r}}var mn=(t,e,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?s.isOnBlur:n.isOnBlur)?!t:(r?s.isOnChange:n.isOnChange)?t:!0,pn=(t,e)=>!Xe(b(t,e)).length&&X(t,e);const yn={mode:le.onSubmit,reValidateMode:le.onChange,shouldFocusError:!0};function vn(t={},e){let r={...yn,...t},s={submitCount:0,isDirty:!1,isLoading:we(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:!1},n={},a=q(r.defaultValues)||q(r.values)?oe(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:oe(a),u={action:!1,mount:!1,watch:!1},i={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Mt(),array:Mt(),state:Mt()},x=t.resetOptions&&t.resetOptions.keepDirtyValues,v=_r(r.mode),O=_r(r.reValidateMode),A=r.criteriaMode===le.all,Q=d=>m=>{clearTimeout(c),c=setTimeout(d,m)},$=async d=>{if(f.isValid||d){const m=r.resolver?se((await ae()).errors):await V(n,!0);m!==s.isValid&&h.state.next({isValid:m})}},M=d=>f.isValidating&&h.state.next({isValidating:d}),Z=(d,m=[],p,C,w=!0,g=!0)=>{if(C&&p){if(u.action=!0,g&&Array.isArray(b(n,d))){const R=p(b(n,d),C.argA,C.argB);w&&B(n,d,R)}if(g&&Array.isArray(b(s.errors,d))){const R=p(b(s.errors,d),C.argA,C.argB);w&&B(s.errors,d,R),pn(s.errors,d)}if(f.touchedFields&&g&&Array.isArray(b(s.touchedFields,d))){const R=p(b(s.touchedFields,d),C.argA,C.argB);w&&B(s.touchedFields,d,R)}f.dirtyFields&&(s.dirtyFields=Pt(a,o)),h.state.next({name:d,isDirty:H(d,m),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else B(o,d,m)},j=(d,m)=>{B(s.errors,d,m),h.state.next({errors:s.errors})},pe=d=>{s.errors=d,h.state.next({errors:s.errors,isValid:!1})},be=(d,m,p,C)=>{const w=b(n,d);if(w){const g=b(o,d,G(p)?b(a,d):p);G(g)||C&&C.defaultChecked||m?B(o,d,m?g:Dt(w._f)):ie(d,g),u.mount&&$()}},Ze=(d,m,p,C,w)=>{let g=!1,R=!1;const z={name:d},Y=!!(b(n,d)&&b(n,d)._f.disabled);if(!p||C){f.isDirty&&(R=s.isDirty,s.isDirty=z.isDirty=H(),g=R!==z.isDirty);const ue=Y||$e(b(a,d),m);R=!!(!Y&&b(s.dirtyFields,d)),ue||Y?X(s.dirtyFields,d):B(s.dirtyFields,d,!0),z.dirtyFields=s.dirtyFields,g=g||f.dirtyFields&&R!==!ue}if(p){const ue=b(s.touchedFields,d);ue||(B(s.touchedFields,d,p),z.touchedFields=s.touchedFields,g=g||f.touchedFields&&ue!==p)}return g&&w&&h.state.next(z),g?z:{}},Re=(d,m,p,C)=>{const w=b(s.errors,d),g=f.isValid&&ne(m)&&s.isValid!==m;if(t.delayError&&p?(l=Q(()=>j(d,p)),l(t.delayError)):(clearTimeout(c),l=null,p?B(s.errors,d,p):X(s.errors,d)),(p?!$e(w,p):w)||!se(C)||g){const R={...C,...g&&ne(m)?{isValid:m}:{},errors:s.errors,name:d};s={...s,...R},h.state.next(R)}M(!1)},ae=async d=>r.resolver(o,r.context,fn(d||i.mount,n,r.criteriaMode,r.shouldUseNativeValidation)),Ke=async d=>{const{errors:m}=await ae(d);if(d)for(const p of d){const C=b(m,p);C?B(s.errors,p,C):X(s.errors,p)}else s.errors=m;return m},V=async(d,m,p={valid:!0})=>{for(const C in d){const w=d[C];if(w){const{_f:g,...R}=w;if(g){const z=i.array.has(g.name),Y=await Cr(w,o,A,r.shouldUseNativeValidation&&!m,z);if(Y[g.name]&&(p.valid=!1,m))break;!m&&(b(Y,g.name)?z?ln(s.errors,Y,g.name):B(s.errors,g.name,Y[g.name]):X(s.errors,g.name))}R&&await V(R,m,p)}}return p.valid},U=()=>{for(const d of i.unMount){const m=b(n,d);m&&(m._f.refs?m._f.refs.every(p=>!It(p)):!It(m._f.ref))&&At(d)}i.unMount=new Set},H=(d,m)=>(d&&m&&B(o,d,m),!$e(lr(),a)),J=(d,m,p)=>Hr(d,i,{...u.mount?o:G(m)?a:de(d)?{[d]:m}:m},p,m),ce=d=>Xe(b(u.mount?o:a,d,t.shouldUnregister?b(a,d,[]):[])),ie=(d,m,p={})=>{const C=b(n,d);let w=m;if(C){const g=C._f;g&&(!g.disabled&&B(o,d,Jr(m,g)),w=nt(g.ref)&&ee(m)?"":m,Yr(g.ref)?[...g.ref.options].forEach(R=>R.selected=w.includes(R.value)):g.refs?Ye(g.ref)?g.refs.length>1?g.refs.forEach(R=>(!R.defaultChecked||!R.disabled)&&(R.checked=Array.isArray(w)?!!w.find(z=>z===R.value):w===R.value)):g.refs[0]&&(g.refs[0].checked=!!w):g.refs.forEach(R=>R.checked=R.value===w):tr(g.ref)?g.ref.value="":(g.ref.value=w,g.ref.type||h.values.next({name:d,values:{...o}})))}(p.shouldDirty||p.shouldTouch)&&Ze(d,w,p.shouldTouch,p.shouldDirty,!0),p.shouldValidate&&St(d)},Be=(d,m,p)=>{for(const C in m){const w=m[C],g=`${d}.${C}`,R=b(n,g);(i.array.has(d)||!it(w)||R&&!R._f)&&!Pe(w)?Be(g,w,p):ie(g,w,p)}},Ce=(d,m,p={})=>{const C=b(n,d),w=i.array.has(d),g=oe(m);B(o,d,g),w?(h.array.next({name:d,values:{...o}}),(f.isDirty||f.dirtyFields)&&p.shouldDirty&&h.state.next({name:d,dirtyFields:Pt(a,o),isDirty:H(d,g)})):C&&!C._f&&!ee(g)?Be(d,g,p):ie(d,g,p),xr(d,i)&&h.state.next({...s}),h.values.next({name:d,values:{...o}}),!u.mount&&e()},Je=async d=>{const m=d.target;let p=m.name,C=!0;const w=b(n,p),g=()=>m.type?Dt(w._f):Lr(d),R=z=>{C=Number.isNaN(z)||z===b(o,p,z)};if(w){let z,Y;const ue=g(),Ne=d.type===st.BLUR||d.type===st.FOCUS_OUT,Ms=!hn(w._f)&&!r.resolver&&!b(s.errors,p)&&!w._f.deps||mn(Ne,b(s.touchedFields,p),s.isSubmitted,O,v),Nt=xr(p,i,Ne);B(o,p,ue),Ne?(w._f.onBlur&&w._f.onBlur(d),l&&l(0)):w._f.onChange&&w._f.onChange(d);const Ot=Ze(p,ue,Ne,!1),Is=!se(Ot)||Nt;if(!Ne&&h.values.next({name:p,type:d.type,values:{...o}}),Ms)return f.isValid&&$(),Is&&h.state.next({name:p,...Nt?{}:Ot});if(!Ne&&Nt&&h.state.next({...s}),M(!0),r.resolver){const{errors:yr}=await ae([p]);if(R(ue),C){const Ps=Tr(s.errors,n,p),vr=Tr(yr,n,Ps.name||p);z=vr.error,p=vr.name,Y=se(yr)}}else z=(await Cr(w,o,A,r.shouldUseNativeValidation))[p],R(ue),C&&(z?Y=!1:f.isValid&&(Y=await V(n,!0)));C&&(w._f.deps&&St(w._f.deps),Re(p,Y,z,Ot))}},or=(d,m)=>{if(b(s.errors,m)&&d.focus)return d.focus(),1},St=async(d,m={})=>{let p,C;const w=et(d);if(M(!0),r.resolver){const g=await Ke(G(d)?d:w);p=se(g),C=d?!w.some(R=>b(g,R)):p}else d?(C=(await Promise.all(w.map(async g=>{const R=b(n,g);return await V(R&&R._f?{[g]:R}:R)}))).every(Boolean),!(!C&&!s.isValid)&&$()):C=p=await V(n);return h.state.next({...!de(d)||f.isValid&&p!==s.isValid?{}:{name:d},...r.resolver||!d?{isValid:p}:{},errors:s.errors,isValidating:!1}),m.shouldFocus&&!C&&He(n,or,d?w:i.mount),C},lr=d=>{const m={...a,...u.mount?o:{}};return G(d)?m:de(d)?b(m,d):d.map(p=>b(m,p))},cr=(d,m)=>({invalid:!!b((m||s).errors,d),isDirty:!!b((m||s).dirtyFields,d),isTouched:!!b((m||s).touchedFields,d),error:b((m||s).errors,d)}),As=d=>{d&&et(d).forEach(m=>X(s.errors,m)),h.state.next({errors:d?s.errors:{}})},ur=(d,m,p)=>{const C=(b(n,d,{_f:{}})._f||{}).ref;B(s.errors,d,{...m,ref:C}),h.state.next({name:d,errors:s.errors,isValid:!1}),p&&p.shouldFocus&&C&&C.focus&&C.focus()},Rs=(d,m)=>we(d)?h.values.subscribe({next:p=>d(J(void 0,m),p)}):J(d,m,!0),At=(d,m={})=>{for(const p of d?et(d):i.mount)i.mount.delete(p),i.array.delete(p),m.keepValue||(X(n,p),X(o,p)),!m.keepError&&X(s.errors,p),!m.keepDirty&&X(s.dirtyFields,p),!m.keepTouched&&X(s.touchedFields,p),!r.shouldUnregister&&!m.keepDefaultValue&&X(a,p);h.values.next({values:{...o}}),h.state.next({...s,...m.keepDirty?{isDirty:H()}:{}}),!m.keepIsValid&&$()},dr=({disabled:d,name:m,field:p,fields:C,value:w})=>{if(ne(d)){const g=d?void 0:G(w)?Dt(p?p._f:b(C,m)._f):w;B(o,m,g),Ze(m,g,!1,!1,!0)}},Rt=(d,m={})=>{let p=b(n,d);const C=ne(m.disabled);return B(n,d,{...p||{},_f:{...p&&p._f?p._f:{ref:{name:d}},name:d,mount:!0,...m}}),i.mount.add(d),p?dr({field:p,disabled:m.disabled,name:d,value:m.value}):be(d,!0,m.value),{...C?{disabled:m.disabled}:{},...r.progressive?{required:!!m.required,min:Ue(m.min),max:Ue(m.max),minLength:Ue(m.minLength),maxLength:Ue(m.maxLength),pattern:Ue(m.pattern)}:{},name:d,onChange:Je,onBlur:Je,ref:w=>{if(w){Rt(d,m),p=b(n,d);const g=G(w.value)&&w.querySelectorAll&&w.querySelectorAll("input,select,textarea")[0]||w,R=dn(g),z=p._f.refs||[];if(R?z.find(Y=>Y===g):g===p._f.ref)return;B(n,d,{_f:{...p._f,...R?{refs:[...z.filter(It),g,...Array.isArray(b(a,d))?[{}]:[]],ref:{type:g.type,name:d}}:{ref:g}}}),be(d,!1,void 0,g)}else p=b(n,d,{}),p._f&&(p._f.mount=!1),(r.shouldUnregister||m.shouldUnregister)&&!(Fr(i.array,d)&&u.action)&&i.unMount.add(d)}}},fr=()=>r.shouldFocusError&&He(n,or,i.mount),Ns=d=>{ne(d)&&(h.state.next({disabled:d}),He(n,(m,p)=>{let C=d;const w=b(n,p);w&&ne(w._f.disabled)&&(C||(C=w._f.disabled)),m.disabled=C},0,!1))},hr=(d,m)=>async p=>{p&&(p.preventDefault&&p.preventDefault(),p.persist&&p.persist());let C=oe(o);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:w,values:g}=await ae();s.errors=w,C=g}else await V(n);X(s.errors,"root"),se(s.errors)?(h.state.next({errors:{}}),await d(C,p)):(m&&await m({...s.errors},p),fr(),setTimeout(fr)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:se(s.errors),submitCount:s.submitCount+1,errors:s.errors})},Os=(d,m={})=>{b(n,d)&&(G(m.defaultValue)?Ce(d,b(a,d)):(Ce(d,m.defaultValue),B(a,d,m.defaultValue)),m.keepTouched||X(s.touchedFields,d),m.keepDirty||(X(s.dirtyFields,d),s.isDirty=m.defaultValue?H(d,b(a,d)):H()),m.keepError||(X(s.errors,d),f.isValid&&$()),h.state.next({...s}))},mr=(d,m={})=>{const p=d?oe(d):a,C=oe(p),w=d&&!se(d)?C:a;if(m.keepDefaultValues||(a=p),!m.keepValues){if(m.keepDirtyValues||x)for(const g of i.mount)b(s.dirtyFields,g)?B(w,g,b(o,g)):Ce(g,b(w,g));else{if(Kt&&G(d))for(const g of i.mount){const R=b(n,g);if(R&&R._f){const z=Array.isArray(R._f.refs)?R._f.refs[0]:R._f.ref;if(nt(z)){const Y=z.closest("form");if(Y){Y.reset();break}}}}n={}}o=t.shouldUnregister?m.keepDefaultValues?oe(a):{}:oe(w),h.array.next({values:{...w}}),h.values.next({values:{...w}})}i={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&e(),u.mount=!f.isValid||!!m.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:m.keepSubmitCount?s.submitCount:0,isDirty:m.keepDirty?s.isDirty:!!(m.keepDefaultValues&&!$e(d,a)),isSubmitted:m.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:m.keepDirtyValues?s.dirtyFields:m.keepDefaultValues&&d?Pt(a,d):{},touchedFields:m.keepTouched?s.touchedFields:{},errors:m.keepErrors?s.errors:{},isSubmitSuccessful:m.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},pr=(d,m)=>mr(we(d)?d(o):d,m);return{control:{register:Rt,unregister:At,getFieldState:cr,handleSubmit:hr,setError:ur,_executeSchema:ae,_getWatch:J,_getDirty:H,_updateValid:$,_removeUnmounted:U,_updateFieldArray:Z,_updateDisabledField:dr,_getFieldArray:ce,_reset:mr,_resetDefaultValues:()=>we(r.defaultValues)&&r.defaultValues().then(d=>{pr(d,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:d=>{s={...s,...d}},_disableForm:Ns,_subjects:h,_proxyFormState:f,_setErrors:pe,get _fields(){return n},get _formValues(){return o},get _state(){return u},set _state(d){u=d},get _defaultValues(){return a},get _names(){return i},set _names(d){i=d},get _formState(){return s},set _formState(d){s=d},get _options(){return r},set _options(d){r={...r,...d}}},trigger:St,register:Rt,handleSubmit:hr,watch:Rs,setValue:Ce,getValues:lr,reset:pr,resetField:Os,clearErrors:As,unregister:At,setError:ur,setFocus:(d,m={})=>{const p=b(n,d),C=p&&p._f;if(C){const w=C.refs?C.refs[0]:C.ref;w.focus&&(w.focus(),m.shouldSelect&&w.select())}},getFieldState:cr}}function gn(t={}){const e=F.useRef(),r=F.useRef(),[s,n]=F.useState({isDirty:!1,isValidating:!1,isLoading:we(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:!1,defaultValues:we(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...vn(t,()=>n(o=>({...o}))),formState:s});const a=e.current.control;return a._options=t,Jt({subject:a._subjects.state,next:o=>{Ur(o,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),F.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),F.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),F.useEffect(()=>{t.values&&!$e(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,n(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),F.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),F.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=Br(s,a),e.current}var $r=function(t,e,r){if(t&&"reportValidity"in t){var s=b(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},es=function(t,e){var r=function(n){var a=e.fields[n];a&&a.ref&&"reportValidity"in a.ref?$r(a.ref,n,t):a.refs&&a.refs.forEach(function(o){return $r(o,n,t)})};for(var s in e.fields)r(s)},_n=function(t,e){e.shouldUseNativeValidation&&es(t,e);var r={};for(var s in t){var n=b(e.fields,s),a=Object.assign(t[s]||{},{ref:n&&n.ref});if(bn(e.names||Object.keys(t),s)){var o=Object.assign({},xn(b(r,s)));B(o,"root",a),B(r,s,o)}else B(r,s,a)}return r},xn=function(t){return Array.isArray(t)?t.filter(Boolean):[]},bn=function(t,e){return t.some(function(r){return r.startsWith(e+".")})},wn=function(t,e){for(var r={};t.length;){var s=t[0],n=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var u=s.unionErrors[0].errors[0];r[o]={message:u.message,type:u.code}}else r[o]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(c){return c.errors.forEach(function(f){return t.push(f)})}),e){var i=r[o].types,l=i&&i[s.code];r[o]=Gr(o,e,r,n,l?[].concat(l,s.message):s.message)}t.shift()}return r},kn=function(t,e,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(o,u){try{var i=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(l){return a.shouldUseNativeValidation&&es({},a),{errors:{},values:r.raw?s:l}})}catch(l){return u(l)}return i&&i.then?i.then(void 0,u):i}(0,function(o){if(function(u){return u.errors!=null}(o))return{values:{},errors:_n(wn(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},L;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(u=>typeof n[n[u]]!="number"),o={};for(const u of a)o[u]=n[u];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(L||(L={}));var Sr;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Sr||(Sr={}));const k=L.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Te=t=>{switch(typeof t){case"undefined":return k.undefined;case"string":return k.string;case"number":return isNaN(t)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(t)?k.array:t===null?k.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?k.promise:typeof Map<"u"&&t instanceof Map?k.map:typeof Set<"u"&&t instanceof Set?k.set:typeof Date<"u"&&t instanceof Date?k.date:k.object;default:return k.unknown}},y=L.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fe extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let u=s,i=0;for(;i<o.path.length;){const l=o.path[i];i===o.path.length-1?(u[l]=u[l]||{_errors:[]},u[l]._errors.push(r(o))):u[l]=u[l]||{_errors:[]},u=u[l],i++}}};return n(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,L.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}fe.create=t=>new fe(t);const lt=(t,e)=>{let r;switch(t.code){case y.invalid_type:t.received===k.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case y.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,L.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:r=`Unrecognized key(s) in object: ${L.joinValues(t.keys,", ")}`;break;case y.invalid_union:r="Invalid input";break;case y.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${L.joinValues(t.options)}`;break;case y.invalid_enum_value:r=`Invalid enum value. Expected ${L.joinValues(t.options)}, received '${t.received}'`;break;case y.invalid_arguments:r="Invalid function arguments";break;case y.invalid_return_type:r="Invalid function return type";break;case y.invalid_date:r="Invalid date";break;case y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:L.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case y.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case y.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case y.custom:r="Invalid input";break;case y.invalid_intersection_types:r="Intersection results could not be merged";break;case y.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case y.not_finite:r="Number must be finite";break;default:r=e.defaultError,L.assertNever(t)}return{message:r}};let En=lt;function jt(){return En}const Lt=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,a=[...r,...n.path||[]],o={...n,path:a};let u="";const i=s.filter(l=>!!l).slice().reverse();for(const l of i)u=l(o,{data:e,defaultError:u}).message;return{...n,path:a,message:n.message||u}};function E(t,e){const r=Lt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,jt(),lt].filter(s=>!!s)});t.common.issues.push(r)}class te{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return P;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r)s.push({key:await n.key,value:await n.value});return te.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return P;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const P=Object.freeze({status:"aborted"}),Cn=t=>({status:"dirty",value:t}),re=t=>({status:"valid",value:t}),Ar=t=>t.status==="aborted",Rr=t=>t.status==="dirty",ct=t=>t.status==="valid",Ft=t=>typeof Promise<"u"&&t instanceof Promise;var S;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(S||(S={}));class me{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Nr=(t,e)=>{if(ct(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new fe(t.common.issues);return this._error=r,this._error}}};function I(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,u)=>o.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:s??u.defaultError}:{message:r??u.defaultError},description:n}}class D{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Te(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Te(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new te,ctx:{common:e.parent.common,data:e.data,parsedType:Te(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ft(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Te(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Nr(n,a)}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Te(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(Ft(n)?n:Promise.resolve(n));return Nr(s,a)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const o=e(n),u=()=>a.addIssue({code:y.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(i=>i?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new xe({schema:this,typeName:N.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ke.create(this,this._def)}nullable(){return Fe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return he.create(this,this._def)}promise(){return qe.create(this,this._def)}or(e){return ft.create([this,e],this._def)}and(e){return ht.create(this,e,this._def)}transform(e){return new xe({...I(this._def),schema:this,typeName:N.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new gt({...I(this._def),innerType:this,defaultValue:r,typeName:N.ZodDefault})}brand(){return new Vn({typeName:N.ZodBranded,type:this,...I(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Gt({...I(this._def),innerType:this,catchValue:r,typeName:N.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return kt.create(this,e)}readonly(){return Qt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Tn=/^c[^\s-]{8,}$/i,$n=/^[a-z][a-z0-9]*$/,Sn=/^[0-9A-HJKMNP-TV-Z]{26}$/,An=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rn=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Nn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vt;const On=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Mn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,In=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Pn(t,e){return!!((e==="v4"||!e)&&On.test(t)||(e==="v6"||!e)&&Mn.test(t))}class ve extends D{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){const a=this._getOrReturnCtx(e);return E(a,{code:y.invalid_type,expected:k.string,received:a.parsedType}),P}const s=new te;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),E(n,{code:y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),E(n,{code:y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,u=e.data.length<a.value;(o||u)&&(n=this._getOrReturnCtx(e,n),o?E(n,{code:y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&E(n,{code:y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")Rn.test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"email",code:y.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Vt||(Vt=new RegExp(Nn,"u")),Vt.test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"emoji",code:y.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")An.test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"uuid",code:y.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Tn.test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"cuid",code:y.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")$n.test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"cuid2",code:y.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Sn.test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"ulid",code:y.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),E(n,{validation:"url",code:y.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"regex",code:y.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),E(n,{code:y.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),E(n,{code:y.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),E(n,{code:y.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?In(a).test(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{code:y.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="ip"?Pn(e.data,a.version)||(n=this._getOrReturnCtx(e,n),E(n,{validation:"ip",code:y.invalid_string,message:a.message}),s.dirty()):L.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:y.invalid_string,...S.errToObj(s)})}_addCheck(e){return new ve({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...S.errToObj(e)})}url(e){return this._addCheck({kind:"url",...S.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...S.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...S.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...S.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...S.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...S.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...S.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...S.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...S.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...S.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...S.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...S.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...S.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...S.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...S.errToObj(r)})}nonempty(e){return this.min(1,S.errToObj(e))}trim(){return new ve({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ve({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ve({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ve.create=t=>{var e;return new ve({checks:[],typeName:N.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...I(t)})};function Dn(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class Ve extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){const a=this._getOrReturnCtx(e);return E(a,{code:y.invalid_type,expected:k.number,received:a.parsedType}),P}let s;const n=new te;for(const a of this._def.checks)a.kind==="int"?L.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{code:y.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),E(s,{code:y.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),E(s,{code:y.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Dn(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),E(s,{code:y.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{code:y.not_finite,message:a.message}),n.dirty()):L.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,S.toString(r))}gt(e,r){return this.setLimit("min",e,!1,S.toString(r))}lte(e,r){return this.setLimit("max",e,!0,S.toString(r))}lt(e,r){return this.setLimit("max",e,!1,S.toString(r))}setLimit(e,r,s,n){return new Ve({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:S.toString(n)}]})}_addCheck(e){return new Ve({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:S.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:S.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:S.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:S.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:S.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&L.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ve.create=t=>new Ve({checks:[],typeName:N.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...I(t)});class je extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==k.bigint){const a=this._getOrReturnCtx(e);return E(a,{code:y.invalid_type,expected:k.bigint,received:a.parsedType}),P}let s;const n=new te;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),E(s,{code:y.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),E(s,{code:y.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),E(s,{code:y.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):L.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,S.toString(r))}gt(e,r){return this.setLimit("min",e,!1,S.toString(r))}lte(e,r){return this.setLimit("max",e,!0,S.toString(r))}lt(e,r){return this.setLimit("max",e,!1,S.toString(r))}setLimit(e,r,s,n){return new je({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:S.toString(n)}]})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:S.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}je.create=t=>{var e;return new je({checks:[],typeName:N.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...I(t)})};class Zt extends D{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==k.boolean){const s=this._getOrReturnCtx(e);return E(s,{code:y.invalid_type,expected:k.boolean,received:s.parsedType}),P}return re(e.data)}}Zt.create=t=>new Zt({typeName:N.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...I(t)});class Ge extends D{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){const a=this._getOrReturnCtx(e);return E(a,{code:y.invalid_type,expected:k.date,received:a.parsedType}),P}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return E(a,{code:y.invalid_date}),P}const s=new te;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),E(n,{code:y.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),E(n,{code:y.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):L.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:S.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:S.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ge.create=t=>new Ge({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:N.ZodDate,...I(t)});class Bt extends D{_parse(e){if(this._getType(e)!==k.symbol){const s=this._getOrReturnCtx(e);return E(s,{code:y.invalid_type,expected:k.symbol,received:s.parsedType}),P}return re(e.data)}}Bt.create=t=>new Bt({typeName:N.ZodSymbol,...I(t)});class ut extends D{_parse(e){if(this._getType(e)!==k.undefined){const s=this._getOrReturnCtx(e);return E(s,{code:y.invalid_type,expected:k.undefined,received:s.parsedType}),P}return re(e.data)}}ut.create=t=>new ut({typeName:N.ZodUndefined,...I(t)});class dt extends D{_parse(e){if(this._getType(e)!==k.null){const s=this._getOrReturnCtx(e);return E(s,{code:y.invalid_type,expected:k.null,received:s.parsedType}),P}return re(e.data)}}dt.create=t=>new dt({typeName:N.ZodNull,...I(t)});class Ut extends D{constructor(){super(...arguments),this._any=!0}_parse(e){return re(e.data)}}Ut.create=t=>new Ut({typeName:N.ZodAny,...I(t)});class De extends D{constructor(){super(...arguments),this._unknown=!0}_parse(e){return re(e.data)}}De.create=t=>new De({typeName:N.ZodUnknown,...I(t)});class Ee extends D{_parse(e){const r=this._getOrReturnCtx(e);return E(r,{code:y.invalid_type,expected:k.never,received:r.parsedType}),P}}Ee.create=t=>new Ee({typeName:N.ZodNever,...I(t)});class zt extends D{_parse(e){if(this._getType(e)!==k.undefined){const s=this._getOrReturnCtx(e);return E(s,{code:y.invalid_type,expected:k.void,received:s.parsedType}),P}return re(e.data)}}zt.create=t=>new zt({typeName:N.ZodVoid,...I(t)});class he extends D{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==k.array)return E(r,{code:y.invalid_type,expected:k.array,received:r.parsedType}),P;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,u=r.data.length<n.exactLength.value;(o||u)&&(E(r,{code:o?y.too_big:y.too_small,minimum:u?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(E(r,{code:y.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(E(r,{code:y.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,u)=>n.type._parseAsync(new me(r,o,r.path,u)))).then(o=>te.mergeArray(s,o));const a=[...r.data].map((o,u)=>n.type._parseSync(new me(r,o,r.path,u)));return te.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new he({...this._def,minLength:{value:e,message:S.toString(r)}})}max(e,r){return new he({...this._def,maxLength:{value:e,message:S.toString(r)}})}length(e,r){return new he({...this._def,exactLength:{value:e,message:S.toString(r)}})}nonempty(e){return this.min(1,e)}}he.create=(t,e)=>new he({type:t,minLength:null,maxLength:null,exactLength:null,typeName:N.ZodArray,...I(e)});function Ie(t){if(t instanceof W){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=ke.create(Ie(s))}return new W({...t._def,shape:()=>e})}else return t instanceof he?new he({...t._def,type:Ie(t.element)}):t instanceof ke?ke.create(Ie(t.unwrap())):t instanceof Fe?Fe.create(Ie(t.unwrap())):t instanceof _e?_e.create(t.items.map(e=>Ie(e))):t}class W extends D{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=L.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==k.object){const l=this._getOrReturnCtx(e);return E(l,{code:y.invalid_type,expected:k.object,received:l.parsedType}),P}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ee&&this._def.unknownKeys==="strip"))for(const l in n.data)o.includes(l)||u.push(l);const i=[];for(const l of o){const c=a[l],f=n.data[l];i.push({key:{status:"valid",value:l},value:c._parse(new me(n,f,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof Ee){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of u)i.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(l==="strict")u.length>0&&(E(n,{code:y.unrecognized_keys,keys:u}),s.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of u){const f=n.data[c];i.push({key:{status:"valid",value:c},value:l._parse(new me(n,f,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of i){const f=await c.key;l.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>te.mergeObjectSync(s,l)):te.mergeObjectSync(s,i)}get shape(){return this._def.shape()}strict(e){return S.errToObj,new W({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,a,o,u;const i=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(u=S.errToObj(e).message)!==null&&u!==void 0?u:i}:{message:i}}}:{}})}strip(){return new W({...this._def,unknownKeys:"strip"})}passthrough(){return new W({...this._def,unknownKeys:"passthrough"})}extend(e){return new W({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new W({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:N.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new W({...this._def,catchall:e})}pick(e){const r={};return L.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new W({...this._def,shape:()=>r})}omit(e){const r={};return L.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new W({...this._def,shape:()=>r})}deepPartial(){return Ie(this)}partial(e){const r={};return L.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new W({...this._def,shape:()=>r})}required(e){const r={};return L.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof ke;)a=a._def.innerType;r[s]=a}}),new W({...this._def,shape:()=>r})}keyof(){return ts(L.objectKeys(this.shape))}}W.create=(t,e)=>new W({shape:()=>t,unknownKeys:"strip",catchall:Ee.create(),typeName:N.ZodObject,...I(e)});W.strictCreate=(t,e)=>new W({shape:()=>t,unknownKeys:"strict",catchall:Ee.create(),typeName:N.ZodObject,...I(e)});W.lazycreate=(t,e)=>new W({shape:t,unknownKeys:"strip",catchall:Ee.create(),typeName:N.ZodObject,...I(e)});class ft extends D{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const o=a.map(u=>new fe(u.ctx.common.issues));return E(r,{code:y.invalid_union,unionErrors:o}),P}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const i of s){const l={...r,common:{...r.common,issues:[]},parent:null},c=i._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const u=o.map(i=>new fe(i));return E(r,{code:y.invalid_union,unionErrors:u}),P}}get options(){return this._def.options}}ft.create=(t,e)=>new ft({options:t,typeName:N.ZodUnion,...I(e)});const rt=t=>t instanceof pt?rt(t.schema):t instanceof xe?rt(t.innerType()):t instanceof yt?[t.value]:t instanceof Se?t.options:t instanceof vt?Object.keys(t.enum):t instanceof gt?rt(t._def.innerType):t instanceof ut?[void 0]:t instanceof dt?[null]:null;class sr extends D{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.object)return E(r,{code:y.invalid_type,expected:k.object,received:r.parsedType}),P;const s=this.discriminator,n=r.data[s],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(E(r,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),P)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const n=new Map;for(const a of r){const o=rt(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of o){if(n.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);n.set(u,a)}}return new sr({typeName:N.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...I(s)})}}function Ht(t,e){const r=Te(t),s=Te(e);if(t===e)return{valid:!0,data:t};if(r===k.object&&s===k.object){const n=L.objectKeys(e),a=L.objectKeys(t).filter(u=>n.indexOf(u)!==-1),o={...t,...e};for(const u of a){const i=Ht(t[u],e[u]);if(!i.valid)return{valid:!1};o[u]=i.data}return{valid:!0,data:o}}else if(r===k.array&&s===k.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],u=e[a],i=Ht(o,u);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}else return r===k.date&&s===k.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ht extends D{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(a,o)=>{if(Ar(a)||Ar(o))return P;const u=Ht(a.value,o.value);return u.valid?((Rr(a)||Rr(o))&&r.dirty(),{status:r.value,value:u.data}):(E(s,{code:y.invalid_intersection_types}),P)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ht.create=(t,e,r)=>new ht({left:t,right:e,typeName:N.ZodIntersection,...I(r)});class _e extends D{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==k.array)return E(s,{code:y.invalid_type,expected:k.array,received:s.parsedType}),P;if(s.data.length<this._def.items.length)return E(s,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),P;!this._def.rest&&s.data.length>this._def.items.length&&(E(s,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,u)=>{const i=this._def.items[u]||this._def.rest;return i?i._parse(new me(s,o,s.path,u)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>te.mergeArray(r,o)):te.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new _e({...this._def,rest:e})}}_e.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _e({items:t,typeName:N.ZodTuple,rest:null,...I(e)})};class mt extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==k.object)return E(s,{code:y.invalid_type,expected:k.object,received:s.parsedType}),P;const n=[],a=this._def.keyType,o=this._def.valueType;for(const u in s.data)n.push({key:a._parse(new me(s,u,s.path,u)),value:o._parse(new me(s,s.data[u],s.path,u))});return s.common.async?te.mergeObjectAsync(r,n):te.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof D?new mt({keyType:e,valueType:r,typeName:N.ZodRecord,...I(s)}):new mt({keyType:ve.create(),valueType:e,typeName:N.ZodRecord,...I(r)})}}class Wt extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==k.map)return E(s,{code:y.invalid_type,expected:k.map,received:s.parsedType}),P;const n=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([u,i],l)=>({key:n._parse(new me(s,u,s.path,[l,"key"])),value:a._parse(new me(s,i,s.path,[l,"value"]))}));if(s.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const i of o){const l=await i.key,c=await i.value;if(l.status==="aborted"||c.status==="aborted")return P;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),u.set(l.value,c.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const i of o){const l=i.key,c=i.value;if(l.status==="aborted"||c.status==="aborted")return P;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),u.set(l.value,c.value)}return{status:r.value,value:u}}}}Wt.create=(t,e,r)=>new Wt({valueType:e,keyType:t,typeName:N.ZodMap,...I(r)});class Le extends D{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==k.set)return E(s,{code:y.invalid_type,expected:k.set,received:s.parsedType}),P;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(E(s,{code:y.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(E(s,{code:y.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function o(i){const l=new Set;for(const c of i){if(c.status==="aborted")return P;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}const u=[...s.data.values()].map((i,l)=>a._parse(new me(s,i,s.path,l)));return s.common.async?Promise.all(u).then(i=>o(i)):o(u)}min(e,r){return new Le({...this._def,minSize:{value:e,message:S.toString(r)}})}max(e,r){return new Le({...this._def,maxSize:{value:e,message:S.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Le.create=(t,e)=>new Le({valueType:t,minSize:null,maxSize:null,typeName:N.ZodSet,...I(e)});class We extends D{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.function)return E(r,{code:y.invalid_type,expected:k.function,received:r.parsedType}),P;function s(u,i){return Lt({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,jt(),lt].filter(l=>!!l),issueData:{code:y.invalid_arguments,argumentsError:i}})}function n(u,i){return Lt({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,jt(),lt].filter(l=>!!l),issueData:{code:y.invalid_return_type,returnTypeError:i}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof qe){const u=this;return re(async function(...i){const l=new fe([]),c=await u._def.args.parseAsync(i,a).catch(x=>{throw l.addIssue(s(i,x)),l}),f=await Reflect.apply(o,this,c);return await u._def.returns._def.type.parseAsync(f,a).catch(x=>{throw l.addIssue(n(f,x)),l})})}else{const u=this;return re(function(...i){const l=u._def.args.safeParse(i,a);if(!l.success)throw new fe([s(i,l.error)]);const c=Reflect.apply(o,this,l.data),f=u._def.returns.safeParse(c,a);if(!f.success)throw new fe([n(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new We({...this._def,args:_e.create(e).rest(De.create())})}returns(e){return new We({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new We({args:e||_e.create([]).rest(De.create()),returns:r||De.create(),typeName:N.ZodFunction,...I(s)})}}class pt extends D{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}pt.create=(t,e)=>new pt({getter:t,typeName:N.ZodLazy,...I(e)});class yt extends D{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return E(r,{received:r.data,code:y.invalid_literal,expected:this._def.value}),P}return{status:"valid",value:e.data}}get value(){return this._def.value}}yt.create=(t,e)=>new yt({value:t,typeName:N.ZodLiteral,...I(e)});function ts(t,e){return new Se({values:t,typeName:N.ZodEnum,...I(e)})}class Se extends D{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return E(r,{expected:L.joinValues(s),received:r.parsedType,code:y.invalid_type}),P}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),s=this._def.values;return E(r,{received:r.data,code:y.invalid_enum_value,options:s}),P}return re(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Se.create(e)}exclude(e){return Se.create(this.options.filter(r=>!e.includes(r)))}}Se.create=ts;class vt extends D{_parse(e){const r=L.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==k.string&&s.parsedType!==k.number){const n=L.objectValues(r);return E(s,{expected:L.joinValues(n),received:s.parsedType,code:y.invalid_type}),P}if(r.indexOf(e.data)===-1){const n=L.objectValues(r);return E(s,{received:s.data,code:y.invalid_enum_value,options:n}),P}return re(e.data)}get enum(){return this._def.values}}vt.create=(t,e)=>new vt({values:t,typeName:N.ZodNativeEnum,...I(e)});class qe extends D{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.promise&&r.common.async===!1)return E(r,{code:y.invalid_type,expected:k.promise,received:r.parsedType}),P;const s=r.parsedType===k.promise?r.data:Promise.resolve(r.data);return re(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qe.create=(t,e)=>new qe({type:t,typeName:N.ZodPromise,...I(e)});class xe extends D{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===N.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{E(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(s.data,a);return s.common.issues.length?{status:"dirty",value:s.data}:s.common.async?Promise.resolve(o).then(u=>this._def.schema._parseAsync({data:u,path:s.path,parent:s})):this._def.schema._parseSync({data:o,path:s.path,parent:s})}if(n.type==="refinement"){const o=u=>{const i=n.refinement(u,a);if(s.common.async)return Promise.resolve(i);if(i instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?P:(u.status==="dirty"&&r.dirty(),o(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>u.status==="aborted"?P:(u.status==="dirty"&&r.dirty(),o(u.value).then(()=>({status:r.value,value:u.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ct(o))return o;const u=n.transform(o.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>ct(o)?Promise.resolve(n.transform(o.value,a)).then(u=>({status:r.value,value:u})):o);L.assertNever(n)}}xe.create=(t,e,r)=>new xe({schema:t,typeName:N.ZodEffects,effect:e,...I(r)});xe.createWithPreprocess=(t,e,r)=>new xe({schema:e,effect:{type:"preprocess",transform:t},typeName:N.ZodEffects,...I(r)});class ke extends D{_parse(e){return this._getType(e)===k.undefined?re(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ke.create=(t,e)=>new ke({innerType:t,typeName:N.ZodOptional,...I(e)});class Fe extends D{_parse(e){return this._getType(e)===k.null?re(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fe.create=(t,e)=>new Fe({innerType:t,typeName:N.ZodNullable,...I(e)});class gt extends D{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===k.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gt.create=(t,e)=>new gt({innerType:t,typeName:N.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...I(e)});class Gt extends D{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ft(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fe(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new fe(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Gt.create=(t,e)=>new Gt({innerType:t,typeName:N.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...I(e)});class qt extends D{_parse(e){if(this._getType(e)!==k.nan){const s=this._getOrReturnCtx(e);return E(s,{code:y.invalid_type,expected:k.nan,received:s.parsedType}),P}return{status:"valid",value:e.data}}}qt.create=t=>new qt({typeName:N.ZodNaN,...I(t)});class Vn extends D{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class kt extends D{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?P:a.status==="dirty"?(r.dirty(),Cn(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?P:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new kt({in:e,out:r,typeName:N.ZodPipeline})}}class Qt extends D{_parse(e){const r=this._def.innerType._parse(e);return ct(r)&&(r.value=Object.freeze(r.value)),r}}Qt.create=(t,e)=>new Qt({innerType:t,typeName:N.ZodReadonly,...I(e)});W.lazycreate;var N;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(N||(N={}));const jn=ve.create;Ve.create;qt.create;je.create;Zt.create;Ge.create;Bt.create;ut.create;dt.create;Ut.create;De.create;Ee.create;zt.create;he.create;const Ln=W.create;W.strictCreate;ft.create;sr.create;ht.create;_e.create;mt.create;Wt.create;Le.create;We.create;pt.create;yt.create;Se.create;vt.create;qe.create;xe.create;ke.create;Fe.create;xe.createWithPreprocess;kt.create;const rs=_.forwardRef(({className:t,...e},r)=>T.jsx("div",{ref:r,className:K("rounded-xl border bg-card text-card-foreground shadow",t),...e}));rs.displayName="Card";const ss=_.forwardRef(({className:t,...e},r)=>T.jsx("div",{ref:r,className:K("flex flex-col space-y-1.5 p-6",t),...e}));ss.displayName="CardHeader";const ns=_.forwardRef(({className:t,...e},r)=>T.jsx("h3",{ref:r,className:K("font-semibold leading-none tracking-tight",t),...e}));ns.displayName="CardTitle";const as=_.forwardRef(({className:t,...e},r)=>T.jsx("p",{ref:r,className:K("text-sm text-muted-foreground",t),...e}));as.displayName="CardDescription";const is=_.forwardRef(({className:t,...e},r)=>T.jsx("div",{ref:r,className:K("p-6 pt-0",t),...e}));is.displayName="CardContent";const Fn=_.forwardRef(({className:t,...e},r)=>T.jsx("div",{ref:r,className:K("flex items-center p-6 pt-0",t),...e}));Fn.displayName="CardFooter";function os({title:t,description:e,children:r,classNames:s}){const n=!!(t||e);return T.jsxs(rs,{className:K("w-full max-w-2xl",s==null?void 0:s.root),children:[n?T.jsxs(ss,{className:s==null?void 0:s.header,children:[t?T.jsx(ns,{className:K("text-xl",s==null?void 0:s.title),children:t}):null,e?T.jsx(as,{className:s==null?void 0:s.description,children:e}):null]}):null,T.jsx(is,{className:s==null?void 0:s.content,children:r})]})}const Zn=_.forwardRef((t,e)=>_.createElement(bt.label,ge({},t,{ref:e,onMouseDown:r=>{var s;(s=t.onMouseDown)===null||s===void 0||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),ls=Zn,Bn=Ds("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cs=_.forwardRef(({className:t,...e},r)=>T.jsx(ls,{ref:r,className:K(Bn(),t),...e}));cs.displayName=ls.displayName;const Un=rn,us=_.createContext({}),zn=({...t})=>T.jsx(us.Provider,{value:{name:t.name},children:T.jsx(on,{...t})}),Et=()=>{const t=_.useContext(us),e=_.useContext(ds),{getFieldState:r,formState:s}=wt(),n=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},ds=_.createContext({}),fs=_.forwardRef(({className:t,...e},r)=>{const s=_.useId();return T.jsx(ds.Provider,{value:{id:s},children:T.jsx("div",{ref:r,className:K("space-y-2",t),...e})})});fs.displayName="FormItem";const Hn=_.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:n}=Et();return T.jsx(cs,{ref:r,className:K(s&&"text-destructive",t),htmlFor:n,...e})});Hn.displayName="FormLabel";const hs=_.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:a}=Et();return T.jsx(Vs,{ref:e,id:s,"aria-describedby":r?`${n} ${a}`:`${n}`,"aria-invalid":!!r,...t})});hs.displayName="FormControl";const ms=_.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=Et();return T.jsx("p",{ref:r,id:s,className:K("text-[0.8rem] text-muted-foreground",t),...e})});ms.displayName="FormDescription";const ps=_.forwardRef(({className:t,children:e,...r},s)=>{const{error:n,formMessageId:a}=Et(),o=n?String(n==null?void 0:n.message):e;return o?T.jsx("p",{ref:s,id:a,className:K("text-[0.8rem] font-medium text-destructive",t),...r,children:o}):null});ps.displayName="FormMessage";const ys=_.forwardRef(({className:t,type:e,...r},s)=>T.jsx("input",{type:e,className:K("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));ys.displayName="Input";const Wn=Ln({link:jn().regex(/^(https?:\/\/)?[a-z0-9-]+(\.[a-z]{2,10})+\/[a-z0-9]/i,`We'll need a valid URL, like "longasslink.com/shorten-it"`)});function Gn({onSubmit:t}){const e=gn({resolver:kn(Wn),defaultValues:{link:""}}),[r,s]=_.useState(!1);return _.useEffect(()=>{let n;return r&&(n=setTimeout(()=>s(!1),2e3)),()=>{n&&clearTimeout(n)}},[r]),T.jsx(os,{classNames:{root:"text-center",description:"sr-only"},title:"Shorten & Sweeten",description:"Create bite-sized links and QR codes. Share the joy!",children:T.jsx(Un,{...e,children:T.jsxs("form",{action:"#",className:"flex flex-col items-center gap-4",onSubmit:e.handleSubmit(t),onSubmitCapture:()=>s(!0),children:[T.jsx(zn,{control:e.control,name:"link",render:({field:n})=>T.jsxs(fs,{className:"w-full",children:[T.jsx(hs,{children:T.jsx(ys,{type:"text",placeholder:"Any long ass link, like https://www.youtube.com/watch?v=dQw4w9WgXcQ...",...n})}),T.jsx(ms,{children:" This is the link you want to shorten"}),T.jsx(ps,{})]})}),T.jsx(Ir,{type:"submit",disabled:e.formState.isSubmitting||!e.formState.isValid||r,children:" Shorten"})]})})})}var qn=Object.defineProperty,_t=Object.getOwnPropertySymbols,vs=Object.prototype.hasOwnProperty,gs=Object.prototype.propertyIsEnumerable,Or=(t,e,r)=>e in t?qn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qn=(t,e)=>{for(var r in e||(e={}))vs.call(e,r)&&Or(t,r,e[r]);if(_t)for(var r of _t(e))gs.call(e,r)&&Or(t,r,e[r]);return t},Yn=(t,e)=>{var r={};for(var s in t)vs.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&_t)for(var s of _t(t))e.indexOf(s)<0&&gs.call(t,s)&&(r[s]=t[s]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ae;(t=>{const e=class{constructor(i,l,c,f){if(this.version=i,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],i<e.MIN_VERSION||i>e.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=i*4+17;let h=[];for(let v=0;v<this.size;v++)h.push(!1);for(let v=0;v<this.size;v++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(c);if(this.drawCodewords(x),f==-1){let v=1e9;for(let O=0;O<8;O++){this.applyMask(O),this.drawFormatBits(O);const A=this.getPenaltyScore();A<v&&(f=O,v=A),this.applyMask(O)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(i,l){const c=t.QrSegment.makeSegments(i);return e.encodeSegments(c,l)}static encodeBinary(i,l){const c=t.QrSegment.makeBytes(i);return e.encodeSegments([c],l)}static encodeSegments(i,l,c=1,f=40,h=-1,x=!0){if(!(e.MIN_VERSION<=c&&c<=f&&f<=e.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let v,O;for(v=c;;v++){const M=e.getNumDataCodewords(v,l)*8,Z=u.getTotalBits(i,v);if(Z<=M){O=Z;break}if(v>=f)throw new RangeError("Data too long")}for(const M of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])x&&O<=e.getNumDataCodewords(v,M)*8&&(l=M);let A=[];for(const M of i){s(M.mode.modeBits,4,A),s(M.numChars,M.mode.numCharCountBits(v),A);for(const Z of M.getData())A.push(Z)}a(A.length==O);const Q=e.getNumDataCodewords(v,l)*8;a(A.length<=Q),s(0,Math.min(4,Q-A.length),A),s(0,(8-A.length%8)%8,A),a(A.length%8==0);for(let M=236;A.length<Q;M^=253)s(M,8,A);let $=[];for(;$.length*8<A.length;)$.push(0);return A.forEach((M,Z)=>$[Z>>>3]|=M<<7-(Z&7)),new e(v,l,$,h)}getModule(i,l){return 0<=i&&i<this.size&&0<=l&&l<this.size&&this.modules[l][i]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const i=this.getAlignmentPatternPositions(),l=i.length;for(let c=0;c<l;c++)for(let f=0;f<l;f++)c==0&&f==0||c==0&&f==l-1||c==l-1&&f==0||this.drawAlignmentPattern(i[c],i[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(i){const l=this.errorCorrectionLevel.formatBits<<3|i;let c=l;for(let h=0;h<10;h++)c=c<<1^(c>>>9)*1335;const f=(l<<10|c)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,n(f,h));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,n(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,n(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,n(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let i=this.version;for(let c=0;c<12;c++)i=i<<1^(i>>>11)*7973;const l=this.version<<12|i;a(l>>>18==0);for(let c=0;c<18;c++){const f=n(l,c),h=this.size-11+c%3,x=Math.floor(c/3);this.setFunctionModule(h,x,f),this.setFunctionModule(x,h,f)}}drawFinderPattern(i,l){for(let c=-4;c<=4;c++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(c)),x=i+f,v=l+c;0<=x&&x<this.size&&0<=v&&v<this.size&&this.setFunctionModule(x,v,h!=2&&h!=4)}}drawAlignmentPattern(i,l){for(let c=-2;c<=2;c++)for(let f=-2;f<=2;f++)this.setFunctionModule(i+f,l+c,Math.max(Math.abs(f),Math.abs(c))!=1)}setFunctionModule(i,l,c){this.modules[l][i]=c,this.isFunction[l][i]=!0}addEccAndInterleave(i){const l=this.version,c=this.errorCorrectionLevel;if(i.length!=e.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");const f=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],h=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],x=Math.floor(e.getNumRawDataModules(l)/8),v=f-x%f,O=Math.floor(x/f);let A=[];const Q=e.reedSolomonComputeDivisor(h);for(let M=0,Z=0;M<f;M++){let j=i.slice(Z,Z+O-h+(M<v?0:1));Z+=j.length;const pe=e.reedSolomonComputeRemainder(j,Q);M<v&&j.push(0),A.push(j.concat(pe))}let $=[];for(let M=0;M<A[0].length;M++)A.forEach((Z,j)=>{(M!=O-h||j>=v)&&$.push(Z[M])});return a($.length==x),$}drawCodewords(i){if(i.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const x=c-h,O=(c+1&2)==0?this.size-1-f:f;!this.isFunction[O][x]&&l<i.length*8&&(this.modules[O][x]=n(i[l>>>3],7-(l&7)),l++)}}a(l==i.length*8)}applyMask(i){if(i<0||i>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let c=0;c<this.size;c++){let f;switch(i){case 0:f=(c+l)%2==0;break;case 1:f=l%2==0;break;case 2:f=c%3==0;break;case 3:f=(c+l)%3==0;break;case 4:f=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:f=c*l%2+c*l%3==0;break;case 6:f=(c*l%2+c*l%3)%2==0;break;case 7:f=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&f&&(this.modules[l][c]=!this.modules[l][c])}}getPenaltyScore(){let i=0;for(let h=0;h<this.size;h++){let x=!1,v=0,O=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[h][A]==x?(v++,v==5?i+=e.PENALTY_N1:v>5&&i++):(this.finderPenaltyAddHistory(v,O),x||(i+=this.finderPenaltyCountPatterns(O)*e.PENALTY_N3),x=this.modules[h][A],v=1);i+=this.finderPenaltyTerminateAndCount(x,v,O)*e.PENALTY_N3}for(let h=0;h<this.size;h++){let x=!1,v=0,O=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][h]==x?(v++,v==5?i+=e.PENALTY_N1:v>5&&i++):(this.finderPenaltyAddHistory(v,O),x||(i+=this.finderPenaltyCountPatterns(O)*e.PENALTY_N3),x=this.modules[A][h],v=1);i+=this.finderPenaltyTerminateAndCount(x,v,O)*e.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let x=0;x<this.size-1;x++){const v=this.modules[h][x];v==this.modules[h][x+1]&&v==this.modules[h+1][x]&&v==this.modules[h+1][x+1]&&(i+=e.PENALTY_N2)}let l=0;for(const h of this.modules)l=h.reduce((x,v)=>x+(v?1:0),l);const c=this.size*this.size,f=Math.ceil(Math.abs(l*20-c*10)/c)-1;return a(0<=f&&f<=9),i+=f*e.PENALTY_N4,a(0<=i&&i<=2568888),i}getAlignmentPatternPositions(){if(this.version==1)return[];{const i=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(i*2-2))*2;let c=[6];for(let f=this.size-7;c.length<i;f-=l)c.splice(1,0,f);return c}}static getNumRawDataModules(i){if(i<e.MIN_VERSION||i>e.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*i+128)*i+64;if(i>=2){const c=Math.floor(i/7)+2;l-=(25*c-10)*c-55,i>=7&&(l-=36)}return a(208<=l&&l<=29648),l}static getNumDataCodewords(i,l){return Math.floor(e.getNumRawDataModules(i)/8)-e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][i]*e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][i]}static reedSolomonComputeDivisor(i){if(i<1||i>255)throw new RangeError("Degree out of range");let l=[];for(let f=0;f<i-1;f++)l.push(0);l.push(1);let c=1;for(let f=0;f<i;f++){for(let h=0;h<l.length;h++)l[h]=e.reedSolomonMultiply(l[h],c),h+1<l.length&&(l[h]^=l[h+1]);c=e.reedSolomonMultiply(c,2)}return l}static reedSolomonComputeRemainder(i,l){let c=l.map(f=>0);for(const f of i){const h=f^c.shift();c.push(0),l.forEach((x,v)=>c[v]^=e.reedSolomonMultiply(x,h))}return c}static reedSolomonMultiply(i,l){if(i>>>8||l>>>8)throw new RangeError("Byte out of range");let c=0;for(let f=7;f>=0;f--)c=c<<1^(c>>>7)*285,c^=(l>>>f&1)*i;return a(c>>>8==0),c}finderPenaltyCountPatterns(i){const l=i[1];a(l<=this.size*3);const c=l>0&&i[2]==l&&i[3]==l*3&&i[4]==l&&i[5]==l;return(c&&i[0]>=l*4&&i[6]>=l?1:0)+(c&&i[6]>=l*4&&i[0]>=l?1:0)}finderPenaltyTerminateAndCount(i,l,c){return i&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(i,l){l[0]==0&&(i+=this.size),l.pop(),l.unshift(i)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function s(i,l,c){if(l<0||l>31||i>>>l)throw new RangeError("Value out of range");for(let f=l-1;f>=0;f--)c.push(i>>>f&1)}function n(i,l){return(i>>>l&1)!=0}function a(i){if(!i)throw new Error("Assertion error")}const o=class{constructor(i,l,c){if(this.mode=i,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(i){let l=[];for(const c of i)s(c,8,l);return new o(o.Mode.BYTE,i.length,l)}static makeNumeric(i){if(!o.isNumeric(i))throw new RangeError("String contains non-numeric characters");let l=[];for(let c=0;c<i.length;){const f=Math.min(i.length-c,3);s(parseInt(i.substr(c,f),10),f*3+1,l),c+=f}return new o(o.Mode.NUMERIC,i.length,l)}static makeAlphanumeric(i){if(!o.isAlphanumeric(i))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],c;for(c=0;c+2<=i.length;c+=2){let f=o.ALPHANUMERIC_CHARSET.indexOf(i.charAt(c))*45;f+=o.ALPHANUMERIC_CHARSET.indexOf(i.charAt(c+1)),s(f,11,l)}return c<i.length&&s(o.ALPHANUMERIC_CHARSET.indexOf(i.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,i.length,l)}static makeSegments(i){return i==""?[]:o.isNumeric(i)?[o.makeNumeric(i)]:o.isAlphanumeric(i)?[o.makeAlphanumeric(i)]:[o.makeBytes(o.toUtf8ByteArray(i))]}static makeEci(i){let l=[];if(i<0)throw new RangeError("ECI assignment value out of range");if(i<128)s(i,8,l);else if(i<16384)s(2,2,l),s(i,14,l);else if(i<1e6)s(6,3,l),s(i,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)}static isNumeric(i){return o.NUMERIC_REGEX.test(i)}static isAlphanumeric(i){return o.ALPHANUMERIC_REGEX.test(i)}getData(){return this.bitData.slice()}static getTotalBits(i,l){let c=0;for(const f of i){const h=f.mode.numCharCountBits(l);if(f.numChars>=1<<h)return 1/0;c+=4+h+f.bitData.length}return c}static toUtf8ByteArray(i){i=encodeURI(i);let l=[];for(let c=0;c<i.length;c++)i.charAt(c)!="%"?l.push(i.charCodeAt(c)):(l.push(parseInt(i.substr(c+1,2),16)),c+=2);return l}};let u=o;u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=u})(Ae||(Ae={}));(t=>{(e=>{const r=class{constructor(n,a){this.ordinal=n,this.formatBits=a}};let s=r;s.LOW=new r(0,1),s.MEDIUM=new r(1,0),s.QUARTILE=new r(2,3),s.HIGH=new r(3,2),e.Ecc=s})(t.QrCode||(t.QrCode={}))})(Ae||(Ae={}));(t=>{(e=>{const r=class{constructor(n,a){this.modeBits=n,this.numBitsCharCount=a}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}};let s=r;s.NUMERIC=new r(1,[10,12,14]),s.ALPHANUMERIC=new r(2,[9,11,13]),s.BYTE=new r(4,[8,16,16]),s.KANJI=new r(8,[8,10,12]),s.ECI=new r(7,[0,0,0]),e.Mode=s})(t.QrSegment||(t.QrSegment={}))})(Ae||(Ae={}));var ze=Ae;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Xn={L:ze.QrCode.Ecc.LOW,M:ze.QrCode.Ecc.MEDIUM,Q:ze.QrCode.Ecc.QUARTILE,H:ze.QrCode.Ecc.HIGH},Kn=128,Jn="L",ea="#FFFFFF",ta="#000000",ra=!1,_s=4,sa=.1;function na(t,e=0){const r=[];return t.forEach(function(s,n){let a=null;s.forEach(function(o,u){if(!o&&a!==null){r.push(`M${a+e} ${n+e}h${u-a}v1H${a+e}z`),a=null;return}if(u===s.length-1){if(!o)return;a===null?r.push(`M${u+e},${n+e} h1v1H${u+e}z`):r.push(`M${a+e},${n+e} h${u+1-a}v1H${a+e}z`);return}o&&a===null&&(a=u)})}),r.join("")}function aa(t,e){return t.slice().map((r,s)=>s<e.y||s>=e.y+e.h?r:r.map((n,a)=>a<e.x||a>=e.x+e.w?n:!1))}function ia(t,e,r,s){if(s==null)return null;const n=r?_s:0,a=t.length+n*2,o=Math.floor(e*sa),u=a/e,i=(s.width||o)*u,l=(s.height||o)*u,c=s.x==null?t.length/2-i/2:s.x*u,f=s.y==null?t.length/2-l/2:s.y*u;let h=null;if(s.excavate){let x=Math.floor(c),v=Math.floor(f),O=Math.ceil(i+c-x),A=Math.ceil(l+f-v);h={x,y:v,w:O,h:A}}return{x:c,y:f,h:l,w:i,excavation:h}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function oa(t){const e=t,{value:r,size:s=Kn,level:n=Jn,bgColor:a=ea,fgColor:o=ta,includeMargin:u=ra,imageSettings:i}=e,l=Yn(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let c=ze.QrCode.encodeText(r,Xn[n]).getModules();const f=u?_s:0,h=c.length+f*2,x=ia(c,s,u,i);let v=null;i!=null&&x!=null&&(x.excavation!=null&&(c=aa(c,x.excavation)),v=F.createElement("image",{xlinkHref:i.src,height:x.h,width:x.w,x:x.x+f,y:x.y+f,preserveAspectRatio:"none"}));const O=na(c,f);return F.createElement("svg",Qn({height:s,width:s,viewBox:`0 0 ${h} ${h}`},l),F.createElement("path",{fill:a,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),F.createElement("path",{fill:o,d:O,shapeRendering:"crispEdges"}),v)}const[Ct,Xa]=Pr("Tooltip",[Dr]),nr=Dr(),la="TooltipProvider",ca=700,Yt="tooltip.open",[ua,ar]=Ct(la),da=t=>{const{__scopeTooltip:e,delayDuration:r=ca,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:a}=t,[o,u]=_.useState(!0),i=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),_.createElement(ua,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),u(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>u(!0),s)},[s]),isPointerInTransitRef:i,onPointerInTransitChange:_.useCallback(c=>{i.current=c},[]),disableHoverableContent:n},a)},ir="Tooltip",[fa,Tt]=Ct(ir),ha=t=>{const{__scopeTooltip:e,children:r,open:s,defaultOpen:n=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:u}=t,i=ar(ir,t.__scopeTooltip),l=nr(e),[c,f]=_.useState(null),h=Us(),x=_.useRef(0),v=o??i.disableHoverableContent,O=u??i.delayDuration,A=_.useRef(!1),[Q=!1,$]=zs({prop:s,defaultProp:n,onChange:be=>{be?(i.onOpen(),document.dispatchEvent(new CustomEvent(Yt))):i.onClose(),a==null||a(be)}}),M=_.useMemo(()=>Q?A.current?"delayed-open":"instant-open":"closed",[Q]),Z=_.useCallback(()=>{window.clearTimeout(x.current),A.current=!1,$(!0)},[$]),j=_.useCallback(()=>{window.clearTimeout(x.current),$(!1)},[$]),pe=_.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{A.current=!0,$(!0)},O)},[O,$]);return _.useEffect(()=>()=>window.clearTimeout(x.current),[]),_.createElement(Hs,l,_.createElement(fa,{scope:e,contentId:h,open:Q,stateAttribute:M,trigger:c,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{i.isOpenDelayed?pe():Z()},[i.isOpenDelayed,pe,Z]),onTriggerLeave:_.useCallback(()=>{v?j():window.clearTimeout(x.current)},[j,v]),onOpen:Z,onClose:j,disableHoverableContent:v},r))},Mr="TooltipTrigger",ma=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=Tt(Mr,r),a=ar(Mr,r),o=nr(r),u=_.useRef(null),i=Vr(e,u,n.onTriggerChange),l=_.useRef(!1),c=_.useRef(!1),f=_.useCallback(()=>l.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),_.createElement(Ws,ge({asChild:!0},o),_.createElement(bt.button,ge({"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute},s,{ref:i,onPointerMove:Oe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!a.isPointerInTransitRef.current&&(n.onTriggerEnter(),c.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{n.onTriggerLeave(),c.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Oe(t.onFocus,()=>{l.current||n.onOpen()}),onBlur:Oe(t.onBlur,n.onClose),onClick:Oe(t.onClick,n.onClose)})))}),pa="TooltipPortal",[Ka,ya]=Ct(pa,{forceMount:void 0}),Qe="TooltipContent",va=_.forwardRef((t,e)=>{const r=ya(Qe,t.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...a}=t,o=Tt(Qe,t.__scopeTooltip);return _.createElement(js,{present:s||o.open},o.disableHoverableContent?_.createElement(xs,ge({side:n},a,{ref:e})):_.createElement(ga,ge({side:n},a,{ref:e})))}),ga=_.forwardRef((t,e)=>{const r=Tt(Qe,t.__scopeTooltip),s=ar(Qe,t.__scopeTooltip),n=_.useRef(null),a=Vr(e,n),[o,u]=_.useState(null),{trigger:i,onClose:l}=r,c=n.current,{onPointerInTransitChange:f}=s,h=_.useCallback(()=>{u(null),f(!1)},[f]),x=_.useCallback((v,O)=>{const A=v.currentTarget,Q={x:v.clientX,y:v.clientY},$=xa(Q,A.getBoundingClientRect()),M=ba(Q,$),Z=wa(O.getBoundingClientRect()),j=Ea([...M,...Z]);u(j),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(i&&c){const v=A=>x(A,c),O=A=>x(A,i);return i.addEventListener("pointerleave",v),c.addEventListener("pointerleave",O),()=>{i.removeEventListener("pointerleave",v),c.removeEventListener("pointerleave",O)}}},[i,c,x,h]),_.useEffect(()=>{if(o){const v=O=>{const A=O.target,Q={x:O.clientX,y:O.clientY},$=(i==null?void 0:i.contains(A))||(c==null?void 0:c.contains(A)),M=!ka(Q,o);$?h():M&&(h(),l())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[i,c,o,l,h]),_.createElement(xs,ge({},t,{ref:a}))}),[_a,Ja]=Ct(ir,{isInside:!1}),xs=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:o,...u}=t,i=Tt(Qe,r),l=nr(r),{onClose:c}=i;return _.useEffect(()=>(document.addEventListener(Yt,c),()=>document.removeEventListener(Yt,c)),[c]),_.useEffect(()=>{if(i.trigger){const f=h=>{const x=h.target;x!=null&&x.contains(i.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[i.trigger,c]),_.createElement(Ls,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:c},_.createElement(Fs,ge({"data-state":i.stateAttribute},l,u,{ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),_.createElement(Zs,null,s),_.createElement(_a,{scope:r,isInside:!0},_.createElement(Bs,{id:i.contentId,role:"tooltip"},n||s))))});function xa(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),n=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,s,n,a)){case a:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ba(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function wa(t){const{top:e,right:r,bottom:s,left:n}=t;return[{x:n,y:e},{x:r,y:e},{x:r,y:s},{x:n,y:s}]}function ka(t,e){const{x:r,y:s}=t;let n=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const u=e[a].x,i=e[a].y,l=e[o].x,c=e[o].y;i>s!=c>s&&r<(l-u)*(s-i)/(c-i)+u&&(n=!n)}return n}function Ea(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),Ca(e)}function Ca(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const n=t[s];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))e.pop();else break}e.push(n)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const n=t[s];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}const Ta=da,$a=ha,Sa=ma,bs=va,Aa=Ta,Ra=$a,Na=Sa,ws=_.forwardRef(({className:t,sideOffset:e=4,...r},s)=>T.jsx(bs,{ref:s,sideOffset:e,className:K("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));ws.displayName=bs.displayName;async function Oa(t){return navigator.clipboard.writeText(t)}function Ma({value:t,className:e,...r}){const[s,n]=_.useState(!1);return _.useEffect(()=>{setTimeout(()=>{n(!1)},2e3)},[s]),T.jsx(Aa,{children:T.jsxs(Ra,{children:[T.jsx(Na,{asChild:!0,children:T.jsxs(Ir,{size:"icon",variant:"ghost",className:K("h-6 w-6",e),onClick:()=>{Oa(t),n(!0)},...r,children:[T.jsx("span",{className:"sr-only",children:"Copy"}),s?T.jsx(Gs,{className:"h-3 w-3"}):T.jsx(qs,{className:"h-3 w-3"})]})}),T.jsx(ws,{children:T.jsx("p",{children:"Copy to clipboard"})})]})})}const ks="Progress",$t=100,[Ia,ei]=Pr(ks),[Pa,Da]=Ia(ks),Es=_.forwardRef((t,e)=>{const{__scopeProgress:r,value:s,max:n,getValueLabel:a=La,...o}=t,u=Xt(n)?n:$t,i=Ts(s,u)?s:null,l=xt(i)?a(i,u):void 0;return _.createElement(Pa,{scope:r,value:i,max:u},_.createElement(bt.div,ge({"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":xt(i)?i:void 0,"aria-valuetext":l,role:"progressbar","data-state":Cs(i,u),"data-value":i??void 0,"data-max":u},o,{ref:e})))});Es.propTypes={max(t,e,r){const s=t[e],n=String(s);return s&&!Xt(s)?new Error(Fa(n,r)):null},value(t,e,r){const s=t[e],n=String(s),a=Xt(t.max)?t.max:$t;return s!=null&&!Ts(s,a)?new Error(Za(n,r)):null}};const Va="ProgressIndicator",ja=_.forwardRef((t,e)=>{var r;const{__scopeProgress:s,...n}=t,a=Da(Va,s);return _.createElement(bt.div,ge({"data-state":Cs(a.value,a.max),"data-value":(r=a.value)!==null&&r!==void 0?r:void 0,"data-max":a.max},n,{ref:e}))});function La(t,e){return`${Math.round(t/e*100)}%`}function Cs(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xt(t){return typeof t=="number"}function Xt(t){return xt(t)&&!isNaN(t)&&t>0}function Ts(t,e){return xt(t)&&!isNaN(t)&&t<=e&&t>=0}function Fa(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$t}\`.`}function Za(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$t} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const $s=Es,Ba=ja,Ss=_.forwardRef(({className:t,value:e,...r},s)=>T.jsx($s,{ref:s,className:K("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:T.jsx(Ba,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ss.displayName=$s.displayName;const Ua="/assets/logo-color-zw2WyPsB.png";function za({loading:t=!1,slug:e}){const[r,s]=_.useState(13);return _.useEffect(()=>{const n=setInterval(()=>s(a=>(a+3)%101),900);return()=>clearTimeout(n)},[]),t?T.jsx(Ss,{value:r,className:"w-full max-w-2xl my-10"}):e?T.jsx(os,{classNames:{root:"text-center"},title:"Short Link + QR",children:T.jsxs("div",{className:"flex flex-col items-center h-full",children:[T.jsx("style",{children:"#qrcode image {mix-blend-mode: hard-light;opacity:50%;}"}),T.jsx(oa,{id:"qrcode",size:256,level:"H",value:gr+e,imageSettings:{excavate:!1,src:Ua,height:255,width:255}}),T.jsxs("pre",{className:"flex items-center gap-2 p-2 mt-2 text-sm border rounded",children:[T.jsx("span",{role:"presentation"}),Qs+e,T.jsx(Ma,{value:gr+e})]})]})}):null}const Ha=Ys(null);function ti(){var a;const[t,e]=_.useState(!1),[r,s]=Xs(Ha);async function n(o){e(!0);try{const u=await Js.post("api/link",{json:{dest:o.link,slug:""}}).json();s(u)}catch{Ks({title:"Oops! Something went wrong...",description:T.jsx("p",{className:"mt-2 w-[340px] rounded-md bg-background p-4",children:"Please try again later!"})}),s(null)}e(!1)}return T.jsxs(T.Fragment,{children:[T.jsxs("section",{className:"pb-5 text-center pt-11",children:[T.jsx("h1",{className:"text-4xl font-extrabold leading-relaxed tracking-tight scroll-m-20 lg:text-5xl lg:leading-loose first-of-type:mt-10",children:"Got a long ass link?"}),T.jsx("p",{className:"text-lg",children:"We've got the remedy. Shorten it with LongAssLink and keep it snappier than a one-liner!"})]}),T.jsxs("section",{className:"flex flex-col items-center gap-2 py-4",children:[T.jsx(Gn,{onSubmit:n}),T.jsx(za,{loading:t,slug:(a=r==null?void 0:r.data)==null?void 0:a.slug})]})]})}export{ti as default};
